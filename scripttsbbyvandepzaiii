-- TSB Ultimate Script by Grok (xAI) - Redz Hub Style GUI
-- Ngày cập nhật: 18/03/2025
-- GUI: Thiết kế giống Redz Hub, Việt hóa toàn bộ

-- Khởi tạo
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")

-- Biến toàn cục
_G.Settings = {
    Aimbot = false,
    AutoFarm = false,
    ESP = false,
    SpeedHack = 16,
    AntiStun = false,
    InfiniteUltimate = false,
    AutoBlock = false,
    KillAura = false,
    GodMode = false,
    NoCooldown = false,
    AutoDash = false,
    Fly = false,
    AuraRange = 15
}

-- Tạo GUI kiểu Redz Hub
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui
ScreenGui.Name = "TSBRedzHub"

-- Khung chính (màu đen viền đỏ)
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 400, 0, 500)
Frame.Position = UDim2.new(0.5, -200, 0.5, -250)
Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15) -- Đen đậm
Frame.BorderColor3 = Color3.fromRGB(255, 0, 0) -- Đỏ viền
Frame.BorderSizePixel = 2
Frame.Parent = ScreenGui

-- Thanh tiêu đề (màu đỏ đậm)
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 50)
TitleBar.BackgroundColor3 = Color3.fromRGB(200, 0, 0) -- Đỏ đậm
TitleBar.BorderSizePixel = 0
TitleBar.Parent = Frame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 1, 0)
Title.Text = "TSB Redz Hub - Siêu Hack"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.SourceSansBold
Title.Parent = TitleBar

-- Hàm tạo nút kiểu Redz Hub
local function CreateButton(name, position, callback)
    local Button = Instance.new("TextButton")
    Button.Size = UDim2.new(0, 360, 0, 40)
    Button.Position = position
    Button.Text = name
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- Xám đậm
    Button.BorderColor3 = Color3.fromRGB(255, 0, 0) -- Viền đỏ
    Button.BorderSizePixel = 1
    Button.Font = Enum.Font.SourceSans
    Button.TextScaled = true
    Button.Parent = Frame
    Button.MouseButton1Click:Connect(function()
        callback()
        Button.BackgroundColor3 = _G.Settings[name:match("Bật/Tắt (.+)")] and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(50, 50, 50)
    end)
    return Button
end

-- Danh sách nút (Việt hóa)
local buttons = {
    {"Bật/Tắt Ngắm Tự Động", UDim2.new(0, 20, 0, 70), function() _G.Settings.Aimbot = not _G.Settings.Aimbot print("Ngắm Tự Động: " .. (_G.Settings.Aimbot and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Farm Tự Động", UDim2.new(0, 20, 0, 120), function() _G.Settings.AutoFarm = not _G.Settings.AutoFarm print("Farm Tự Động: " .. (_G.Settings.AutoFarm and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Hiện Tên", UDim2.new(0, 20, 0, 170), function() _G.Settings.ESP = not _G.Settings.ESP print("Hiện Tên: " .. (_G.Settings.ESP and "BẬT" or "TẮT")) end},
    {"Tăng Tốc (x3)", UDim2.new(0, 20, 0, 220), function() _G.Settings.SpeedHack = 48 print("Tăng Tốc: x3") end},
    {"Bật/Tắt Chống Choáng", UDim2.new(0, 20, 0, 270), function() _G.Settings.AntiStun = not _G.Settings.AntiStun print("Chống Choáng: " .. (_G.Settings.AntiStun and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Vô Hạn Chiêu Cuối", UDim2.new(0, 20, 0, 320), function() _G.Settings.InfiniteUltimate = not _G.Settings.InfiniteUltimate print("Vô Hạn Chiêu Cuối: " .. (_G.Settings.InfiniteUltimate and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Tự Động Chặn", UDim2.new(0, 20, 0, 370), function() _G.Settings.AutoBlock = not _G.Settings.AutoBlock print("Tự Động Chặn: " .. (_G.Settings.AutoBlock and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Sát Thương Gần", UDim2.new(0, 20, 0, 420), function() _G.Settings.KillAura = not _G.Settings.KillAura print("Sát Thương Gần: " .. (_G.Settings.KillAura and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Bất Tử", UDim2.new(0, 20, 0, 470), function() _G.Settings.GodMode = not _G.Settings.GodMode print("Bất Tử: " .. (_G.Settings.GodMode and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Không Hồi Chiêu", UDim2.new(0, 20, 0, 520), function() _G.Settings.NoCooldown = not _G.Settings.NoCooldown print("Không Hồi Chiêu: " .. (_G.Settings.NoCooldown and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Tự Động Lao", UDim2.new(0, 20, 0, 570), function() _G.Settings.AutoDash = not _G.Settings.AutoDash print("Tự Động Lao: " .. (_G.Settings.AutoDash and "BẬT" or "TẮT")) end},
    {"Bật/Tắt Bay (Phím E)", UDim2.new(0, 20, 0, 620), function() _G.Settings.Fly = not _G.Settings.Fly print("Bay: " .. (_G.Settings.Fly and "BẬT" or "TẮT")) end},
    {"Dịch Chuyển Ngẫu Nhiên", UDim2.new(0, 20, 0, 670), function()
        local target = Players:GetPlayers()[math.random(1, #Players:GetPlayers())]
        if target ~= LocalPlayer and target.Character then
            LocalPlayer.Character.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame
            print("Đã dịch chuyển đến " .. target.Name)
        end
    end}
}

for _, btn in pairs(buttons) do
    CreateButton(btn[1], btn[2], btn[3])
end

-- Aimbot
local function GetClosestPlayer()
    local closest, distance = nil, math.huge
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local dist = (LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
            if dist < distance and dist <= 50 then
                distance = dist
                closest = player
            end
        end
    end
    return closest
end

RunService.RenderStepped:Connect(function()
    if _G.Settings.Aimbot and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local target = GetClosestPlayer()
        if target and target.Character then
            Workspace.CurrentCamera.CFrame = CFrame.new(Workspace.CurrentCamera.CFrame.Position, target.Character.HumanoidRootPart.Position)
        end
    end
end)

-- Auto Farm Kill
spawn(function()
    while true do
        if _G.Settings.AutoFarm and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Humanoid") then
                    local distance = (LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
                    if distance <= 20 then
                        player.Character.Humanoid:TakeDamage(100)
                    end
                end
            end
        end
        wait(0.05)
    end
end)

-- ESP
local function AddESP(player)
    if player ~= LocalPlayer and player.Character then
        local Billboard = Instance.new("BillboardGui", player.Character.Head)
        Billboard.Size = UDim2.new(0, 100, 0, 50)
        Billboard.StudsOffset = Vector3.new(0, 3, 0)
        
        local Name = Instance.new("TextLabel", Billboard)
        Name.Size = UDim2.new(1, 0, 0.5, 0)
        Name.Text = player.Name
        Name.TextColor3 = Color3.fromRGB(255, 0, 0)
        Name.BackgroundTransparency = 1
        
        local Health = Instance.new("Frame", Billboard)
        Health.Size = UDim2.new(player.Character.Humanoid.Health / 100, 0, 0.5, 0)
        Health.Position = UDim2.new(0, 0, 0.5, 0)
        Health.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    end
end

RunService.RenderStepped:Connect(function()
    if _G.Settings.ESP then
        for _, player in pairs(Players:GetPlayers()) do
            if player.Character then
                AddESP(player)
            end
        end
    end
end)

-- Speed Hack
RunService.Stepped:Connect(function()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.WalkSpeed = _G.Settings.SpeedHack
    end
end)

-- Anti Stun
RunService.Stepped:Connect(function()
    if _G.Settings.AntiStun and LocalPlayer.Character then
        LocalPlayer.Character.Humanoid.PlatformStand = false
        LocalPlayer.Character.Humanoid.Sit = false
    end
end)

-- Infinite Ultimate
spawn(function()
    while true do
        if _G.Settings.InfiniteUltimate and LocalPlayer.Character then
            local ultMeter = LocalPlayer.Character:FindFirstChild("UltimateMeter", true)
            if ultMeter then
                ultMeter.Value = 100
            end
        end
        wait(0.1)
    end
end)

-- Auto Block
spawn(function()
    while true do
        if _G.Settings.AutoBlock and LocalPlayer.Character then
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character and (player.Character.HumanoidRootPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 10 then
                    game:GetService("VirtualUser"):Button1Down(Vector2.new(), Workspace.CurrentCamera.CFrame)
                    wait(0.1)
                    game:GetService("VirtualUser"):Button1Up(Vector2.new(), Workspace.CurrentCamera.CFrame)
                end
            end
        end
        wait(0.05)
    end
end)

-- Kill Aura
spawn(function()
    while true do
        if _G.Settings.KillAura and LocalPlayer.Character then
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character and (player.Character.HumanoidRootPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < _G.Settings.AuraRange then
                    player.Character.Humanoid:TakeDamage(100)
                end
            end
        end
        wait(0.05)
    end
end)

-- God Mode
RunService.Stepped:Connect(function()
    if _G.Settings.GodMode and LocalPlayer.Character then
        LocalPlayer.Character.Humanoid.MaxHealth = math.huge
        LocalPlayer.Character.Humanoid.Health = math.huge
    end
end)

-- No Cooldown
spawn(function()
    while true do
        if _G.Settings.NoCooldown and LocalPlayer.Character then
            for _, tool in pairs(LocalPlayer.Character:GetChildren()) do
                if tool:IsA("Tool") and tool:FindFirstChild("Cooldown") then
                    tool.Cooldown.Value = 0
                end
            end
        end
        wait(0.1)
    end
end)

-- Auto Dash
spawn(function()
    while true do
        if _G.Settings.AutoDash and LocalPlayer.Character then
            LocalPlayer.Character.HumanoidRootPart.Velocity = LocalPlayer.Character.HumanoidRootPart.CFrame.lookVector * 50
            wait(0.5)
        end
        wait(0.1)
    end
end)

-- Fly Hack
local function Fly()
    local BV = Instance.new("BodyVelocity")
    BV.Velocity = Vector3.new(0, 0, 0)
    BV.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    BV.Parent = LocalPlayer.Character.HumanoidRootPart

    local BG = Instance.new("BodyGyro")
    BG.P = 9e4
    BG.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    BG.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
    BG.Parent = LocalPlayer.Character.HumanoidRootPart

    UserInputService.InputBegan:Connect(function(input)
        if input.KeyCode == Enum.KeyCode.E and _G.Settings.Fly then
            BV.Velocity = Vector3.new(Vandepzaiii Hub - Đã Tải Thành Công!")
